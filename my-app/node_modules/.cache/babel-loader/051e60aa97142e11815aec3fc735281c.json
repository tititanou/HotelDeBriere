{"remainingRequest":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\src\\components\\modifyingArticle.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\src\\components\\modifyingArticle.vue","mtime":1598012268416},{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKaW1wb3J0IHsgVnVlRWRpdG9yIH0gZnJvbSAidnVlMi1lZGl0b3IiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVnVlRWRpdG9yOiBWdWVFZGl0b3IKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbWFnZURhdGE6IG51bGwsCiAgICAgIHBpY3R1cmU6IG51bGwsCiAgICAgIHVwbG9hZFZhbHVlOiAwLAogICAgICBhcnRpY2xlc0lkOiAiIiwKICAgICAgYXJ0aWNsZVNlbGVjdGVkOiBbXSwKICAgICAgdGFnOiAiIiwKICAgICAgcHJvcFRhZ3M6IFtdLAogICAgICBzaG93OiB0cnVlLAogICAgICBhcnRpY2xlVGFnczogW10sCiAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSwKICAgICAgaXNBZG1pbjogZmFsc2UsCiAgICAgIHVzZXI6ICcnLAogICAgICBjdXJyZW50VTogewogICAgICAgIGZpcnN0bmFtZTogJycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgYWRtaW46IGZhbHNlCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy51c2VyID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyOwoKICAgIGlmICh0aGlzLnVzZXIgIT0gbnVsbCkgewogICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTsKICAgIH0KCiAgICB0aGlzLmFydGljbGVzSWQgPSB0aGlzLmdldElEZnJvbVVSTCgpOwogICAgdGhpcy5kaXNwbGF5UHJvcFRhZ3ModGhpcy5wcm9wVGFncyk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIGlkID0gdGhpcy5nZXRJRGZyb21VUkwoKTsKICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCJhcnRpY2xlcyIpLm9uKCJ2YWx1ZSIsIGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICB2YXIgcmV0dXJuQXJyID0gW107CiAgICAgIHNuYXBzaG90LmZvckVhY2goZnVuY3Rpb24gKGNoaWxkU25hcHNob3QpIHsKICAgICAgICBpZiAoY2hpbGRTbmFwc2hvdC5rZXkgPT0gaWQpIHsKICAgICAgICAgIHJldHVybkFyci5wdXNoKGNoaWxkU25hcHNob3QudmFsKCkpOyAvLyBGaWxsIHRoZSBsb2NhbCBkYXRhIHByb3BlcnR5IHdpdGggRmlyZWJhc2UgZGF0YQoKICAgICAgICAgIHNlbGYuYXJ0aWNsZVNlbGVjdGVkID0gcmV0dXJuQXJyOwogICAgICAgICAgc2VsZi5hcnRpY2xlVGFncyA9IHNlbGYuYXJ0aWNsZVNlbGVjdGVkWzBdLnRhZ3M7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogICAgc2VsZi51c2VyID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyOwogICAgdmFyIHVzZXJzUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoInVzZXJzIik7CiAgICB1c2Vyc1JlZi5vbigidmFsdWUiLCBmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgdmFyIGRhdGEgPSBzbmFwc2hvdC52YWwoKTsKICAgICAgdmFyIHVzZXJzID0gW107CiAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIGlmIChrZXkgPT0gc2VsZi51c2VyLnVpZCkgewogICAgICAgICAgdXNlcnMucHVzaCh7CiAgICAgICAgICAgIGZpcnN0bmFtZTogZGF0YVtrZXldLmZpcnN0bmFtZSwKICAgICAgICAgICAgbmFtZTogZGF0YVtrZXldLm5hbWUsCiAgICAgICAgICAgIGFkbWluOiBkYXRhW2tleV0uYWRtaW4KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkgewogICAgICAgIHNlbGYuY3VycmVudFUuZmlyc3RuYW1lID0gdXNlcnNbMF0uZmlyc3RuYW1lOwogICAgICAgIHNlbGYuY3VycmVudFUubmFtZSA9IHVzZXJzWzBdLm5hbWU7CiAgICAgICAgc2VsZi5jdXJyZW50VS5hZG1pbiA9IHVzZXJzWzBdLmFkbWluOwogICAgICAgIHNlbGYuaXNBZG1pbiA9IHNlbGYuY3VycmVudFUuYWRtaW47CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZGlzcGxheVByb3BUYWdzOiBmdW5jdGlvbiBkaXNwbGF5UHJvcFRhZ3MobGlzdCkgewogICAgICB2YXIgcmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoInRhZ3MiKTsKICAgICAgcmVmLm9uY2UoInZhbHVlIiwgZnVuY3Rpb24gKHNuYXBzaG90KSB7CiAgICAgICAgc25hcHNob3QuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRTbmFwc2hvdCkgewogICAgICAgICAgdmFyIGNoaWxkS2V5ID0gY2hpbGRTbmFwc2hvdC5rZXk7CiAgICAgICAgICBsaXN0LnB1c2goY2hpbGRLZXkpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRJRGZyb21VUkw6IGZ1bmN0aW9uIGdldElEZnJvbVVSTCgpIHsKICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgibW9kaWZ5aW5nQXJ0aWNsZSIpWzFdOwogICAgfSwKICAgIHByZXZpZXdJbWFnZTogZnVuY3Rpb24gcHJldmlld0ltYWdlKGV2ZW50KSB7CiAgICAgIHRoaXMudXBsb2FkVmFsdWUgPSAwOwogICAgICB0aGlzLnBpY3R1cmUgPSBudWxsOwogICAgICB0aGlzLmltYWdlRGF0YSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgIH0sCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyAvL2FsZXJ0KEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybSkpCgogICAgICBpZiAodGhpcy5hcnRpY2xlU2VsZWN0ZWRbMF0uYWJzdHJhY3QubGVuZ3RoID09IDAgfHwgdGhpcy5hcnRpY2xlU2VsZWN0ZWRbMF0uYWJzdHJhY3QubGVuZ3RoID4gMjgwKSB7CiAgICAgICAgYWxlcnQoIlZvdXMgZGV2ZXogw6ljcmlyZSB1biByw6lzdW3DqSBkZSAyODAgY2FyYWN0w6hyZXMgbWF4aW11bS4iKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmFydGljbGVTZWxlY3RlZFswXS5jb250ZW50Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgYWxlcnQoIlZvdXMgZGV2ZXogw6ljcmlyZSB1biBhcnRpY2xlLiIpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuYXJ0aWNsZVNlbGVjdGVkWzBdLnJlbGVhc2VEYXRlLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgYWxlcnQoIlZvdXMgZGV2ZXogZW50cmVyIHVuZSBkYXRlLiIpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuYXJ0aWNsZVNlbGVjdGVkWzBdLnBpY3R1cmUubGVuZ3RoID09IDApIHsKICAgICAgICBhbGVydCgiVm91cyBkZXZleiBlbnRyZXIgdW5lIGltYWdlLiIpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuYXJ0aWNsZVNlbGVjdGVkWzBdLnRhZ3MubGVuZ3RoID09IDApIHsKICAgICAgICBhbGVydCgiVm91cyBkZXZleiBlbnRyZXIgYXUgbW9pbnMgdW5lIGNhdMOpZ29yaWUuIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFydGljbGVUYWdzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigidGFncy8iICsgdGhpcy5hcnRpY2xlVGFnc1tpXSkuc2V0KHsKICAgICAgICAgICAgdGFnOiB0aGlzLmFydGljbGVUYWdzW2ldCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXJ0aWNsZVNlbGVjdGVkWzBdLmNvbnRlbnQubGVuZ3RoKTsKICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigiYXJ0aWNsZXMvIiArIHRoaXMuYXJ0aWNsZXNJZCkuc2V0KHsKICAgICAgICAgIHRpdGxlOiB0aGlzLmFydGljbGVTZWxlY3RlZFswXS50aXRsZSwKICAgICAgICAgIHN1YnRpdGxlOiB0aGlzLmFydGljbGVTZWxlY3RlZFswXS5zdWJ0aXRsZSwKICAgICAgICAgIGFic3RyYWN0OiB0aGlzLmFydGljbGVTZWxlY3RlZFswXS5hYnN0cmFjdCwKICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuYXJ0aWNsZVNlbGVjdGVkWzBdLmNvbnRlbnQsCiAgICAgICAgICByZWxlYXNlRGF0ZTogdGhpcy5hcnRpY2xlU2VsZWN0ZWRbMF0ucmVsZWFzZURhdGUsCiAgICAgICAgICBhdXRvcjogdGhpcy5hcnRpY2xlU2VsZWN0ZWRbMF0uYXV0b3IsCiAgICAgICAgICB0YWdzOiB0aGlzLmFydGljbGVUYWdzLAogICAgICAgICAgcGljdHVyZTogdGhpcy5hcnRpY2xlU2VsZWN0ZWRbMF0ucGljdHVyZSwKICAgICAgICAgIG1lZGlhOiB0aGlzLmFydGljbGVTZWxlY3RlZFswXS5tZWRpYSwKICAgICAgICAgIGlzM0RSZWFsOiB0aGlzLmFydGljbGVTZWxlY3RlZFswXS5pczNEUmVhbAogICAgICAgIH0pLnRoZW4oYWxlcnQoIlZvdHJlIGFydGljbGUgYSDDqXTDqSBtb2RpZmllciBhdmVjIHN1Y2PDqHMuIikpOwogICAgICB9CiAgICB9LAogICAgb25VcGxvYWQ6IGZ1bmN0aW9uIG9uVXBsb2FkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5waWN0dXJlID0gbnVsbDsKICAgICAgdmFyIHN0b3JhZ2VSZWYgPSBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCIiLmNvbmNhdCh0aGlzLmltYWdlRGF0YS5uYW1lKSkucHV0KHRoaXMuaW1hZ2VEYXRhKTsKICAgICAgc3RvcmFnZVJlZi5vbigic3RhdGVfY2hhbmdlZCIsIGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgIF90aGlzLnVwbG9hZFZhbHVlID0gc25hcHNob3QuYnl0ZXNUcmFuc2ZlcnJlZCAvIHNuYXBzaG90LnRvdGFsQnl0ZXMgKiAxMDA7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpOwogICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMudXBsb2FkVmFsdWUgPSAxMDA7CiAgICAgICAgc3RvcmFnZVJlZi5zbmFwc2hvdC5yZWYuZ2V0RG93bmxvYWRVUkwoKS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgIF90aGlzLmFydGljbGVTZWxlY3RlZFswXS5waWN0dXJlID0gdXJsOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRUYWc6IGZ1bmN0aW9uIGFkZFRhZyh0YWcpIHsKICAgICAgaWYgKHRhZyAhPSAiIikgewogICAgICAgIGlmICh0aGlzLmFydGljbGVUYWdzLmxlbmd0aCA8IDMpIHsKICAgICAgICAgIHZhciBuZXdUYWcgPSB0YWcudG9Mb3dlckNhc2UoKTsKICAgICAgICAgIHRoaXMuYXJ0aWNsZVRhZ3MucHVzaChuZXdUYWcpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJlbW92ZVRhZzogZnVuY3Rpb24gcmVtb3ZlVGFnKGluZGV4KSB7CiAgICAgIHRoaXMuYXJ0aWNsZVRhZ3Muc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICB0YWdFeGlzdHM6IGZ1bmN0aW9uIHRhZ0V4aXN0cyh0YWcpIHsKICAgICAgcmV0dXJuIHRoaXMuYXJ0aWNsZVRhZ3MuaW5kZXhPZih0YWcpICE9PSAtMTsKICAgIH0sCiAgICBoYW5kbGVUeXBpbmc6IGZ1bmN0aW9uIGhhbmRsZVR5cGluZyhlKSB7CiAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7CiAgICAgICAgdmFyIHRhZyA9IHRoaXMudGFnLnJlcGxhY2UoLywvZywgIiIpOwoKICAgICAgICBpZiAoIXRoaXMudGFnRXhpc3RzKHRhZykpIHsKICAgICAgICAgIHRoaXMuYWRkVGFnKHRhZyk7CiAgICAgICAgICB0aGlzLnRhZyA9ICIiOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["modifyingArticle.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <h1>Modification de l'article:</h1>\r\n    <div v-if=\"isConnected && isAdmin\">\r\n      \r\n      <b-form v-on:keypress.enter.prevent @submit=\"onSubmit\" v-if=\"show\">\r\n        <b-form-group label=\"Titre:\">\r\n          <b-form-input v-model=\"articleSelected[0].title\" type=\"text\" required placeholder=\"Titre\"></b-form-input>\r\n        </b-form-group>\r\n\r\n        <b-form-group label=\"Sous-titre:\" description=\"Facultatif\">\r\n          <b-form-input v-model=\"articleSelected[0].subtitle\" placeholder=\"Sous-titre\"></b-form-input>\r\n        </b-form-group>\r\n\r\n        <b-form-group label=\"Résumé:\">\r\n          <b-form-textarea\r\n            v-model=\"articleSelected[0].abstract\" \r\n            placeholder=\"Résumé\"\r\n            rows=\"3\"\r\n            max-rows=\"6\"\r\n          ></b-form-textarea>\r\n        </b-form-group>\r\n\r\n        <b-form-group label=\"Contenu de l'article:\">\r\n          <b-form>\r\n            <vue-editor\r\n              label=\"Contenu de l'article:\"\r\n              required\r\n              v-model=\"articleSelected[0].content\"\r\n              style=\"background-color: white;\"\r\n            ></vue-editor>\r\n          </b-form>\r\n        </b-form-group>\r\n\r\n        <b-form-group label=\"Date de mise en ligne:\">\r\n          <b-form-datepicker v-model=\"articleSelected[0].releaseDate\" required class=\"mb-2\"></b-form-datepicker>\r\n        </b-form-group>\r\n\r\n        <b-form-group label=\"Catégorie:\">\r\n          <b-form-input\r\n            placeholder=\"Ajouter une catégorie en appuyant sur Entrée\"\r\n            list=\"input-list\"\r\n            v-model=\"tag\"\r\n            @keyup=\"handleTyping\"\r\n          ></b-form-input>\r\n          <b-form-datalist id=\"input-list\" :options=\"propTags\"></b-form-datalist>\r\n          <div class=\"tags mt-2\">\r\n            <div\r\n              v-for=\"(_tag, index) in articleTags\"\r\n              :key=\"index\"\r\n              class=\"tag\"\r\n              @click=\"removeTag(index)\"\r\n            >{{ _tag }}</div>\r\n          </div>\r\n        </b-form-group>\r\n\r\n        <b-form-group label=\"Auteur de l'article:\">\r\n          <b-form-input\r\n            v-model=\"articleSelected[0].autor\"\r\n            type=\"text\"\r\n            required\r\n            placeholder=\"Auteur\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n\r\n        <b-form-group label=\"Photo de présentation:\">\r\n          <b-form v-model=\"articleSelected[0].picture\">\r\n            <div>\r\n              <input type=\"file\" @change=\"previewImage\" accept=\"image/*\" />\r\n            </div>\r\n            <div>\r\n              <p>\r\n                Progression: {{uploadValue.toFixed()+\"%\"}}\r\n                <progress\r\n                  id=\"progress\"\r\n                  :value=\"uploadValue\"\r\n                  max=\"100\"\r\n                ></progress>\r\n              </p>\r\n            </div>\r\n            <div v-if=\"imageData!=null\">\r\n              <img class=\"preview\" required :src=\"articleSelected[0].picture\" />\r\n              <br />\r\n              <b-button variant=\"primary\" @click.prevent=\"onUpload\">Importer l'image</b-button>\r\n            </div>\r\n          </b-form>\r\n        </b-form-group>\r\n        \r\n        <b-form-group label=\"Média de présentation:\" description=\"facultatif\">\r\n          <b-form-input\r\n            v-model=\"articleSelected[0].media\"\r\n            type=\"text\"\r\n            placeholder=\"Lien vers un média\"\r\n          ></b-form-input>\r\n          <b-checkbox\r\n            v-model=\"articleSelected[0].is3DReal\"\r\n          >Cocher si c'est une réalisation 3D SketchFab</b-checkbox>\r\n        </b-form-group>\r\n        \r\n        <div class=\"mt-5\">\r\n          <h1>Prévisualisation de l'article:</h1>\r\n          <div>\r\n            <h2>Vignette:</h2>\r\n            <b-card\r\n              :title=\"articleSelected[0].title\"\r\n              :img-src=\"articleSelected[0].picture\"\r\n              img-alt=\"Image\"\r\n              img-top\r\n              img-width=\"max-whidth: 50rem\"\r\n              img-height=\"max-height: 50rem\"\r\n              tag=\"article\"\r\n              style=\"max-width: 50rem;\"\r\n              class=\"mb-4\"\r\n            >\r\n              <b-card-text>{{articleSelected[0].abstract}}</b-card-text>\r\n\r\n              <b-button href=\"#\" variant=\"primary\">Lire la suite</b-button>\r\n            </b-card>\r\n          </div>\r\n          <div>\r\n            <h2>Page Complète:</h2>\r\n            <b-card>\r\n              <div\r\n                v-if=\"articleSelected[0].media && articleSelected[0].is3DReal == false\"\r\n                class=\"mb-4 embed-responsive embed-responsive-16by9\"\r\n              >\r\n                <iframe\r\n                  class=\"col-12 embed-responsive-item\"\r\n                  :src=\"articleSelected[0].media\"\r\n                  frameborder=\"0\"\r\n                ></iframe>\r\n              </div>\r\n              <div v-if=\"articleSelected[0].media && articleSelected[0].is3DReal\">\r\n                <div class=\"sketchfab-embed-wrapper mb-4 embed-responsive embed-responsive-16by9\">\r\n                  <iframe\r\n                    class=\"col-12 embed-responsive-item\"\r\n                    title=\"A 3D model\"\r\n                    :src=\"articleSelected[0].media\"\r\n                    frameborder=\"0\"\r\n                    allow=\"autoplay; fullscreen; vr\"\r\n                    mozallowfullscreen=\"true\"\r\n                    webkitallowfullscreen=\"true\"\r\n                  ></iframe>\r\n                </div>\r\n              </div>\r\n              <div v-else>\r\n                <img :src=\"articleSelected[0].picture\" class=\"col-12\" />\r\n              </div>\r\n              <div>\r\n                <h1>{{articleSelected[0].title}}</h1>\r\n                <h3>{{articleSelected[0].subtitle}}</h3>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">Mis en ligne le: {{articleSelected[0].releaseDate}}</div>\r\n                  <div class=\"col\">Ecrit part: {{articleSelected[0].autor}}</div>\r\n                  <div class=\"col\">\r\n                    Catégories:\r\n                    <div\r\n                      class=\"raw\"\r\n                      v-for=\"(_tag, index) in articleTags\"\r\n                      :key=\"index\"\r\n                    >{{_tag}}</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div v-html=\"articleSelected[0].content\"></div>\r\n              </div>\r\n            </b-card>\r\n          </div>\r\n        </div>\r\n        <b-button class=\"mx-3 my-3\" type=\"submit\" variant=\"primary\">Enregistrer la modification</b-button>\r\n      </b-form>\r\n\r\n      <!--<b-card class=\"mt-3\" header=\"Form Data Result\">\r\n        <pre class=\"m-0\">{{ articleSelected[0] }}</pre>\r\n      </b-card>-->\r\n    </div>\r\n    <b-card class=\"mb-4 \" v-else-if=\"isConnected && !isAdmin\">\r\n      <p>Accès refusé! Vous devez être administrateur pour accéder au contenu de cette page.</p>\r\n      <b-button variant=\"primary\" href=\"/\">Retour à l'acceuil</b-button>\r\n    </b-card>\r\n    <b-card class=\"mb-4 \" v-else>\r\n      <p>Accès refusé! Vous devez vous connecter.</p>\r\n      <b-button variant=\"primary\" href=\"/\">Retour à l'acceuil</b-button>\r\n      <b-button class=\"mx-3\" variant=\"primary\" href=\"inscriptionConnexion\">Se connecter</b-button>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from \"firebase\";\r\nimport { VueEditor } from \"vue2-editor\";\r\n\r\nexport default {\r\n  components: {\r\n    VueEditor,\r\n  },\r\n  data() {\r\n    return {\r\n      imageData: null,\r\n      picture: null,\r\n      uploadValue: 0,\r\n      articlesId: \"\",\r\n      articleSelected: [],\r\n      tag: \"\",\r\n      propTags: [],\r\n      show: true,\r\n      articleTags: [],\r\n      isConnected: false,\r\n      isAdmin: false,\r\n      user: '',\r\n      currentU:{\r\n        firstname:'',\r\n        name:'',\r\n        admin:false\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.user = firebase.auth().currentUser;\r\n    if (this.user != null){\r\n      this.isConnected = true;\r\n    }\r\n    this.articlesId = this.getIDfromURL();\r\n    this.displayPropTags(this.propTags);\r\n  },\r\n  mounted: function () {\r\n    let self = this;\r\n    let id = this.getIDfromURL();\r\n    firebase\r\n      .database()\r\n      .ref(\"articles\")\r\n      .on(\"value\", function (snapshot) {\r\n        let returnArr = [];\r\n        snapshot.forEach(function (childSnapshot) {\r\n          if (childSnapshot.key == id) {\r\n            returnArr.push(childSnapshot.val());\r\n            // Fill the local data property with Firebase data\r\n            self.articleSelected = returnArr;\r\n            self.articleTags = self.articleSelected[0].tags;\r\n          }\r\n        });\r\n      });\r\n      self.user = firebase.auth().currentUser;\r\n      const usersRef = firebase.database().ref(\"users\");\r\n      usersRef.on(\"value\", snapshot => {\r\n          let data = snapshot.val();\r\n          let users = [];\r\n          Object.keys(data).forEach(key =>{\r\n            if (key == self.user.uid){\r\n              users.push({\r\n                firstname: data[key].firstname,\r\n                name: data[key].name,\r\n                admin: data[key].admin\r\n              });\r\n            }\r\n          });\r\n          if(users.length > 0) {\r\n            self.currentU.firstname = users[0].firstname;\r\n            self.currentU.name = users[0].name;\r\n            self.currentU.admin = users[0].admin;\r\n            self.isAdmin = self.currentU.admin;\r\n            }\r\n        });\r\n  },\r\n  methods: {\r\n    displayPropTags(list) {\r\n      let ref = firebase.database().ref(\"tags\");\r\n      ref.once(\"value\", function (snapshot) {\r\n        snapshot.forEach(function (childSnapshot) {\r\n          var childKey = childSnapshot.key;\r\n          list.push(childKey);\r\n        });\r\n      });\r\n    },\r\n    getIDfromURL: function () {\r\n      return window.location.pathname.split(\"modifyingArticle\")[1];\r\n    },\r\n    previewImage(event) {\r\n      this.uploadValue = 0;\r\n      this.picture = null;\r\n      this.imageData = event.target.files[0];\r\n    },\r\n    onSubmit(evt) {\r\n      evt.preventDefault();\r\n      //alert(JSON.stringify(this.form))\r\n      if (this.articleSelected[0].abstract.length == 0 || this.articleSelected[0].abstract.length > 280) {\r\n        alert(\"Vous devez écrire un résumé de 280 caractères maximum.\");\r\n      } else if (this.articleSelected[0].content.length == 0) {\r\n        alert(\"Vous devez écrire un article.\");\r\n      } else if (this.articleSelected[0].releaseDate.length == 0) {\r\n        alert(\"Vous devez entrer une date.\");\r\n      } else if (this.articleSelected[0].picture.length == 0) {\r\n        alert(\"Vous devez entrer une image.\");\r\n      } else if (this.articleSelected[0].tags.length == 0) {\r\n        alert(\"Vous devez entrer au moins une catégorie.\");\r\n      } else {\r\n        for (let i = 0; i < this.articleTags.length; i++) {\r\n          firebase\r\n            .database()\r\n            .ref(\"tags/\" + this.articleTags[i])\r\n            .set({\r\n              tag: this.articleTags[i],\r\n            });\r\n        }\r\n        console.log(this.articleSelected[0].content.length);\r\n        firebase\r\n          .database()\r\n          .ref(\"articles/\" + this.articlesId)\r\n          .set({\r\n            title: this.articleSelected[0].title,\r\n            subtitle: this.articleSelected[0].subtitle,\r\n            abstract: this.articleSelected[0].abstract,\r\n            content: this.articleSelected[0].content,\r\n            releaseDate: this.articleSelected[0].releaseDate,\r\n            autor: this.articleSelected[0].autor,\r\n            tags: this.articleTags,\r\n            picture: this.articleSelected[0].picture,\r\n            media: this.articleSelected[0].media,\r\n            is3DReal: this.articleSelected[0].is3DReal,\r\n          })\r\n          .then(alert(\"Votre article a été modifier avec succès.\"));\r\n      }\r\n    },\r\n    onUpload() {\r\n      this.picture = null;\r\n      const storageRef = firebase\r\n        .storage()\r\n        .ref(`${this.imageData.name}`)\r\n        .put(this.imageData);\r\n      storageRef.on(\r\n        `state_changed`,\r\n        (snapshot) => {\r\n          this.uploadValue =\r\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n        },\r\n        (error) => {\r\n          console.log(error.message);\r\n        },\r\n        () => {\r\n          this.uploadValue = 100;\r\n          storageRef.snapshot.ref.getDownloadURL().then((url) => {\r\n            this.articleSelected[0].picture = url;\r\n          });\r\n        }\r\n      );\r\n    },\r\n    addTag(tag) {\r\n      if (tag != \"\") {\r\n        if (this.articleTags.length < 3) {\r\n          let newTag = tag.toLowerCase();\r\n          this.articleTags.push(newTag);\r\n        }\r\n      }\r\n    },\r\n    removeTag(index) {\r\n      this.articleTags.splice(index, 1);\r\n    },\r\n    tagExists(tag) {\r\n      return this.articleTags.indexOf(tag) !== -1;\r\n    },\r\n    handleTyping(e) {\r\n      if (e.keyCode === 13) {\r\n        let tag = this.tag.replace(/,/g, \"\");\r\n        if (!this.tagExists(tag)) {\r\n          this.addTag(tag);\r\n          this.tag = \"\";\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\nimg.preview {\r\n  width: 200px;\r\n}\r\n\r\nimg.view {\r\n  width: auto;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}