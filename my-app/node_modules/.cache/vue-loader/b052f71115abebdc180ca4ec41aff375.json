{"remainingRequest":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\src\\views\\ArticlesList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\src\\views\\ArticlesList.vue","mtime":1598012308308},{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQXJ0aWNsZSBmcm9tICJAL2NvbXBvbmVudHMvQXJ0aWNsZVByZXNlbnRhdGlvbi52dWUiOw0KaW1wb3J0IFNlYXJjaGJhciBmcm9tICJAL2NvbXBvbmVudHMvU2VhcmNoYmFyLnZ1ZSI7DQppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBBcnRpY2xlLA0KDQogICAgU2VhcmNoYmFyLA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBhcnRpY2xlc0xpc3Q6IFtdLA0KICAgICAgc2VhcmNoOiAiIiwNCiAgICAgIGFydGljbGVUYWdzOiBbXSwNCiAgICAgIHNlbGVjdGVkVGFnOiAiIiwNCiAgICAgIGl0ZW1PcmRlckJ5OiAiaWQiLA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5hcnRpY2xlc0xpc3QgPSB0aGlzLmRpc3BsYXkoKTsNCiAgICBjb25zb2xlLmxvZygibGUgcGIgZXN0IGljaSEiKTsNCiAgICBjb25zb2xlLmxvZygiMTogIiArIHRoaXMuYXJ0aWNsZXNMaXN0Lmxlbmd0aCk7DQogICAgdGhpcy5kaXNwbGF5UHJvcFRhZ3ModGhpcy5hcnRpY2xlVGFncyk7DQogIH0sDQogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsNCiAgICAvL3RoaXMuYXJ0aWNsZXNMaXN0ID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5hcnRpY2xlczsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAvKnNvcnRBcnJheXMoYXJyYXlzKSB7DQogICAgICByZXR1cm4gXy5vcmRlckJ5KGFycmF5cywgdGhpcy5pdGVtT3JkZXJCeSwgImFzYyIpOw0KICAgIH0sKi8NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGRpc3BsYXlQcm9wVGFncyhsaXN0KSB7DQogICAgICBsZXQgcmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoInRhZ3MiKTsNCiAgICAgIHJlZi5vbmNlKCJ2YWx1ZSIsIGZ1bmN0aW9uIChzbmFwc2hvdCkgew0KICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZFNuYXBzaG90KSB7DQogICAgICAgICAgdmFyIGNoaWxkS2V5ID0gY2hpbGRTbmFwc2hvdC5rZXk7DQogICAgICAgICAgY29uc29sZS5sb2coY2hpbGRLZXkpOw0KICAgICAgICAgIGxpc3QucHVzaChjaGlsZEtleSk7DQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgICBjb25zb2xlLmxvZyhsaXN0Lmxlbmd0aCk7DQogICAgfSwNCiAgICBzZWFyY2hBcnRpY2xlQnlUZXh0KCkgew0KICAgICAgY29uc29sZS5sb2codGhpcy5zZWFyY2gpOw0KICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZFRhZyk7DQogICAgfSwNCiAgICBkaXNwbGF5KCkgew0KICAgICAgdmFyIGxpc3QgPSBbXTsNCiAgICAgIGxldCByZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigiYXJ0aWNsZXMiKTsNCiAgICAgIHJlZi5vbmNlKCJ2YWx1ZSIsIGZ1bmN0aW9uIChzbmFwc2hvdCkgew0KICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZFNuYXBzaG90KSB7DQogICAgICAgICAgdmFyIGNoaWxkS2V5ID0gY2hpbGRTbmFwc2hvdC5rZXk7DQogICAgICAgICAgdmFyIGNoaWxkRGF0YSA9IGNoaWxkU25hcHNob3QudmFsKCk7DQogICAgICAgICAgY29uc3QgYXJ0aWNsZSA9IHsNCiAgICAgICAgICAgIGlkOiBjaGlsZEtleSwNCiAgICAgICAgICAgIHRpdGxlOiBjaGlsZERhdGEudGl0bGUsDQogICAgICAgICAgICBhYnN0cmFjdDogY2hpbGREYXRhLmFic3RyYWN0LA0KICAgICAgICAgICAgcmVsZWFzZURhdGU6IGNoaWxkRGF0YS5yZWxlYXNlRGF0ZSwNCiAgICAgICAgICAgIHBpY3R1cmU6IGNoaWxkRGF0YS5waWN0dXJlLA0KICAgICAgICAgIH07DQogICAgICAgICAgY29uc29sZS5sb2coYXJ0aWNsZSk7DQogICAgICAgICAgbGlzdC5wdXNoKGFydGljbGUpOw0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgICAgY29uc29sZS5sb2cobGlzdC5sZW5ndGgpOw0KICAgICAgcmV0dXJuIGxpc3Q7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["ArticlesList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ArticlesList.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <b-container>\r\n    <div class=\"row my-5\">\r\n      <h1>On en parle !</h1>\r\n    </div>\r\n\r\n    <Searchbar />\r\n\r\n    <b-row cols=\"1\" cols-lg=\"2\" cols-md=\"1\" cols-sm=\"1\">\r\n      <Article\r\n        v-for=\"article in articlesList\"\r\n        :article=\"article\"\r\n        :key=\"article.id\"\r\n        :articlesList=\"articlesList\"\r\n      />\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Article from \"@/components/ArticlePresentation.vue\";\r\nimport Searchbar from \"@/components/Searchbar.vue\";\r\nimport firebase from \"firebase\";\r\n\r\nexport default {\r\n  components: {\r\n    Article,\r\n\r\n    Searchbar,\r\n  },\r\n  data() {\r\n    return {\r\n      articlesList: [],\r\n      search: \"\",\r\n      articleTags: [],\r\n      selectedTag: \"\",\r\n      itemOrderBy: \"id\",\r\n    };\r\n  },\r\n  created() {\r\n    this.articlesList = this.display();\r\n    console.log(\"le pb est ici!\");\r\n    console.log(\"1: \" + this.articlesList.length);\r\n    this.displayPropTags(this.articleTags);\r\n  },\r\n  mounted: function () {\r\n    //this.articlesList = this.$store.getters.articles;\r\n  },\r\n  computed: {\r\n    /*sortArrays(arrays) {\r\n      return _.orderBy(arrays, this.itemOrderBy, \"asc\");\r\n    },*/\r\n  },\r\n  methods: {\r\n    displayPropTags(list) {\r\n      let ref = firebase.database().ref(\"tags\");\r\n      ref.once(\"value\", function (snapshot) {\r\n        snapshot.forEach(function (childSnapshot) {\r\n          var childKey = childSnapshot.key;\r\n          console.log(childKey);\r\n          list.push(childKey);\r\n        });\r\n      });\r\n      console.log(list.length);\r\n    },\r\n    searchArticleByText() {\r\n      console.log(this.search);\r\n      console.log(this.selectedTag);\r\n    },\r\n    display() {\r\n      var list = [];\r\n      let ref = firebase.database().ref(\"articles\");\r\n      ref.once(\"value\", function (snapshot) {\r\n        snapshot.forEach(function (childSnapshot) {\r\n          var childKey = childSnapshot.key;\r\n          var childData = childSnapshot.val();\r\n          const article = {\r\n            id: childKey,\r\n            title: childData.title,\r\n            abstract: childData.abstract,\r\n            releaseDate: childData.releaseDate,\r\n            picture: childData.picture,\r\n          };\r\n          console.log(article);\r\n          list.push(article);\r\n        });\r\n      });\r\n      console.log(list.length);\r\n      return list;\r\n    },\r\n  },\r\n};\r\n</script>"]}]}