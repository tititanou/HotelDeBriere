{"remainingRequest":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\vue-picture-input\\PictureInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\vue-picture-input\\PictureInput.vue","mtime":1595858240454},{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\r_kev\\Documents\\SiteWebStage\\HotelDeBriere\\my-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncGljdHVyZS1pbnB1dCcsCiAgcHJvcHM6IHsKICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSCiAgICB9LAogICAgbWFyZ2luOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBhY2NlcHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnaW1hZ2UvKicKICAgIH0sCiAgICBzaXplOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSCiAgICB9LAogICAgbmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBpZDogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgYnV0dG9uQ2xhc3M6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnYnRuIGJ0bi1wcmltYXJ5IGJ1dHRvbicKICAgIH0sCiAgICByZW1vdmVCdXR0b25DbGFzczogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdidG4gYnRuLXNlY29uZGFyeSBidXR0b24gc2Vjb25kYXJ5JwogICAgfSwKICAgIGFzcGVjdEJ1dHRvbkNsYXNzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2J0biBidG4tc2Vjb25kYXJ5IGJ1dHRvbiBzZWNvbmRhcnknCiAgICB9LAogICAgcHJlZmlsbDogewogICAgICB0eXBlOiBbU3RyaW5nLCBGaWxlXSwKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBwcmVmaWxsT3B0aW9uczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4ge30KICAgICAgfQogICAgfSwKICAgIGNyb3A6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIHJhZGl1czogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgcmVtb3ZhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgaGlkZUNoYW5nZUJ1dHRvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGF1dG9Ub2dnbGVBc3BlY3RSYXRpbzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHRvZ2dsZUFzcGVjdFJhdGlvOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgY2hhbmdlT25DbGljazogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgcGxhaW46IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB6SW5kZXg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxMDAwMAogICAgfSwKICAgIGFsZXJ0T25FcnJvcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgY3VzdG9tU3RyaW5nczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4ge30KICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHByZWZpbGwgKCkgewogICAgICBpZiAodGhpcy5wcmVmaWxsKSB7CiAgICAgICAgdGhpcy5wcmVsb2FkSW1hZ2UodGhpcy5wcmVmaWxsLCB0aGlzLnByZWZpbGxPcHRpb25zKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmVtb3ZlSW1hZ2UoKQogICAgICB9CiAgICB9CiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGltYWdlU2VsZWN0ZWQ6IGZhbHNlLAogICAgICBwcmV2aWV3SGVpZ2h0OiAwLAogICAgICBwcmV2aWV3V2lkdGg6IDAsCiAgICAgIGRyYWdnaW5nT3ZlcjogZmFsc2UsCiAgICAgIGNhbnZhc1dpZHRoOiAwLAogICAgICBjYW52YXNIZWlnaHQ6IDAsCiAgICAgIHN0cmluZ3M6IHsKICAgICAgICB1cGxvYWQ6ICc8cD5Zb3VyIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZpbGUgdXBsb2FkaW5nLjwvcD4nLAogICAgICAgIGRyYWc6ICdEcmFnIGFuIGltYWdlIG9yIDxicj5jbGljayBoZXJlIHRvIHNlbGVjdCBhIGZpbGUnLAogICAgICAgIHRhcDogJ1RhcCBoZXJlIHRvIHNlbGVjdCBhIHBob3RvIDxicj5mcm9tIHlvdXIgZ2FsbGVyeScsCiAgICAgICAgY2hhbmdlOiAnQ2hhbmdlIFBob3RvJywKICAgICAgICBhc3BlY3Q6ICdMYW5kc2NhcGUvUG9ydHJhaXQnLAogICAgICAgIHJlbW92ZTogJ1JlbW92ZSBQaG90bycsCiAgICAgICAgc2VsZWN0OiAnU2VsZWN0IGEgUGhvdG8nLAogICAgICAgIHNlbGVjdGVkOiAnPHA+UGhvdG8gc3VjY2Vzc2Z1bGx5IHNlbGVjdGVkITwvcD4nLAogICAgICAgIGZpbGVTaXplOiAnVGhlIGZpbGUgc2l6ZSBleGNlZWRzIHRoZSBsaW1pdCcsCiAgICAgICAgZmlsZVR5cGU6ICdUaGlzIGZpbGUgdHlwZSBpcyBub3Qgc3VwcG9ydGVkLicKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLnVwZGF0ZVN0cmluZ3MoKQogICAgaWYgKHRoaXMucHJlZmlsbCkgewogICAgICB0aGlzLnByZWxvYWRJbWFnZSh0aGlzLnByZWZpbGwsIHRoaXMucHJlZmlsbE9wdGlvbnMpCiAgICB9CgogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZSkKICAgICAgdGhpcy5vblJlc2l6ZSgpCiAgICB9KQogICAgaWYgKHRoaXMuc3VwcG9ydHNQcmV2aWV3KSB7CiAgICAgIHRoaXMucGl4ZWxSYXRpbyA9IE1hdGgucm91bmQod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgd2luZG93LnNjcmVlbi5kZXZpY2VYRFBJIC8gd2luZG93LnNjcmVlbi5sb2dpY2FsWERQSSkKICAgICAgY29uc3QgY2FudmFzID0gdGhpcy4kcmVmcy5wcmV2aWV3Q2FudmFzCiAgICAgIGlmIChjYW52YXMuZ2V0Q29udGV4dCkgewogICAgICAgIHRoaXMuY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpCiAgICAgICAgdGhpcy5jb250ZXh0LnNjYWxlKHRoaXMucGl4ZWxSYXRpbywgdGhpcy5waXhlbFJhdGlvKQogICAgICB9CiAgICB9CiAgICBpZiAodGhpcy5hY2NlcHQgIT09ICdpbWFnZS8qJykgewogICAgICB0aGlzLmZpbGVUeXBlcyA9IHRoaXMuYWNjZXB0LnNwbGl0KCcsJykKICAgICAgdGhpcy5maWxlVHlwZXMgPSB0aGlzLmZpbGVUeXBlcy5tYXAocyA9PiBzLnRyaW0oKSkKICAgIH0KCiAgICB0aGlzLmNhbnZhc1dpZHRoID0gdGhpcy53aWR0aAogICAgdGhpcy5jYW52YXNIZWlnaHQgPSB0aGlzLmhlaWdodAoKICAgIHRoaXMuJG9uKCdlcnJvcicsIHRoaXMub25FcnJvcikKICB9LAogIGJlZm9yZURlc3Ryb3kgKCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUpCiAgICB0aGlzLiRvZmYoJ2Vycm9yJywgdGhpcy5vbkVycm9yKQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlU3RyaW5ncyAoKSB7CiAgICAgIGZvciAobGV0IHMgaW4gdGhpcy5jdXN0b21TdHJpbmdzKSB7CiAgICAgICAgaWYgKHMgaW4gdGhpcy5zdHJpbmdzICYmIHR5cGVvZiB0aGlzLmN1c3RvbVN0cmluZ3Nbc10gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICB0aGlzLnN0cmluZ3Nbc10gPSB0aGlzLmN1c3RvbVN0cmluZ3Nbc10KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBvbkNsaWNrICgpIHsKICAgICAgaWYgKCF0aGlzLmltYWdlU2VsZWN0ZWQpIHsKICAgICAgICB0aGlzLnNlbGVjdEltYWdlKCkKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgaWYgKHRoaXMuY2hhbmdlT25DbGljaykgewogICAgICAgIHRoaXMuc2VsZWN0SW1hZ2UoKQogICAgICB9CgogICAgICB0aGlzLiRlbWl0KCdjbGljaycpCiAgICB9LAogICAgb25SZXNpemUgKCkgewogICAgICB0aGlzLnJlc2l6ZUNhbnZhcygpCgogICAgICBpZiAodGhpcy5pbWFnZU9iamVjdCkgewogICAgICAgIHRoaXMuZHJhd0ltYWdlKHRoaXMuaW1hZ2VPYmplY3QpCiAgICAgIH0KICAgIH0sCiAgICBvbkRyYWdTdGFydCAoKSB7CiAgICAgIGlmICghdGhpcy5zdXBwb3J0c0RyYWdBbmREcm9wKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgdGhpcy5kcmFnZ2luZ092ZXIgPSB0cnVlCiAgICB9LAogICAgb25EcmFnU3RvcCAoKSB7CiAgICAgIGlmICghdGhpcy5zdXBwb3J0c0RyYWdBbmREcm9wKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgdGhpcy5kcmFnZ2luZ092ZXIgPSBmYWxzZQogICAgfSwKICAgIG9uRmlsZURyb3AgKGUpIHsKICAgICAgdGhpcy5vbkRyYWdTdG9wKCkKICAgICAgdGhpcy5vbkZpbGVDaGFuZ2UoZSkKICAgIH0sCiAgICBvbkZpbGVDaGFuZ2UgKGUsIHByZWZpbGwpIHsKICAgICAgbGV0IGZpbGVzID0gZS50YXJnZXQuZmlsZXMgfHwgZS5kYXRhVHJhbnNmZXIuZmlsZXMKICAgICAgaWYgKCFmaWxlcy5sZW5ndGgpIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBpZiAoZmlsZXNbMF0uc2l6ZSA8PSAwIHx8IGZpbGVzWzBdLnNpemUgPiB0aGlzLnNpemUgKiAxMDI0ICogMTAyNCkgewogICAgICAgIHRoaXMuJGVtaXQoJ2Vycm9yJywgewogICAgICAgICAgdHlwZTogJ2ZpbGVTaXplJywKICAgICAgICAgIGZpbGVTaXplOiBmaWxlc1swXS5zaXplLAogICAgICAgICAgZmlsZVR5cGU6IGZpbGVzWzBdLnR5cGUsCiAgICAgICAgICBmaWxlTmFtZTogZmlsZXNbMF0ubmFtZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuc3RyaW5ncy5maWxlU2l6ZSArICcgKCcgKyB0aGlzLnNpemUgKyAnTUIpJwogICAgICAgIH0pCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgaWYgKGZpbGVzWzBdLm5hbWUgPT09IHRoaXMuZmlsZU5hbWUgJiYgZmlsZXNbMF0uc2l6ZSA9PT0gdGhpcy5maWxlU2l6ZSAmJiB0aGlzLmZpbGVNb2RpZmllZCA9PT0gZmlsZXNbMF0ubGFzdE1vZGlmaWVkKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHRoaXMuZmlsZSA9IGZpbGVzWzBdCiAgICAgIHRoaXMuZmlsZU5hbWUgPSBmaWxlc1swXS5uYW1lCiAgICAgIHRoaXMuZmlsZVNpemUgPSBmaWxlc1swXS5zaXplCiAgICAgIHRoaXMuZmlsZU1vZGlmaWVkID0gZmlsZXNbMF0ubGFzdE1vZGlmaWVkCiAgICAgIHRoaXMuZmlsZVR5cGUgPSBmaWxlc1swXS50eXBlCgogICAgICBpZiAodGhpcy5hY2NlcHQgPT09ICdpbWFnZS8qJykgewogICAgICAgIGlmIChmaWxlc1swXS50eXBlLnN1YnN0cigwLCA2KSAhPT0gJ2ltYWdlLycpIHsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5maWxlVHlwZXMuaW5kZXhPZihmaWxlc1swXS50eXBlKSA9PT0gLTEpIHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2Vycm9yJywgewogICAgICAgICAgICB0eXBlOiAnZmlsZVR5cGUnLAogICAgICAgICAgICBmaWxlU2l6ZTogZmlsZXNbMF0uc2l6ZSwKICAgICAgICAgICAgZmlsZVR5cGU6IGZpbGVzWzBdLnR5cGUsCiAgICAgICAgICAgIGZpbGVOYW1lOiBmaWxlc1swXS5uYW1lLAogICAgICAgICAgICBtZXNzYWdlOiB0aGlzLnN0cmluZ3MuZmlsZVR5cGUKICAgICAgICAgIH0pCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5pbWFnZVNlbGVjdGVkID0gdHJ1ZQogICAgICB0aGlzLmltYWdlID0gJycKICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQcmV2aWV3KSB7CiAgICAgICAgdGhpcy5sb2FkSW1hZ2UoZmlsZXNbMF0sIHByZWZpbGwgfHwgZmFsc2UpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHByZWZpbGwpIHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3ByZWZpbGwnKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLmltYWdlKQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9uRXJyb3IgKGVycm9yKSB7CiAgICAgIGlmICh0aGlzLmFsZXJ0T25FcnJvcikgewogICAgICAgIGFsZXJ0KGVycm9yLm1lc3NhZ2UpCiAgICAgIH0KICAgIH0sCiAgICBsb2FkSW1hZ2UgKGZpbGUsIHByZWZpbGwpIHsKICAgICAgdGhpcy5nZXRFWElGT3JpZW50YXRpb24oZmlsZSwgb3JpZW50YXRpb24gPT4gewogICAgICAgIHRoaXMuc2V0T3JpZW50YXRpb24ob3JpZW50YXRpb24pCiAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCkKICAgICAgICByZWFkZXIub25sb2FkID0gZSA9PiB7CiAgICAgICAgICB0aGlzLmltYWdlID0gZS50YXJnZXQucmVzdWx0CiAgICAgICAgICBpZiAocHJlZmlsbCkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdwcmVmaWxsJykKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuaW1hZ2UpCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmltYWdlT2JqZWN0ID0gbmV3IEltYWdlKCkKICAgICAgICAgIHRoaXMuaW1hZ2VPYmplY3Qub25sb2FkID0gKCkgPT4gewogICAgICAgICAgICBpZiAodGhpcy5hdXRvVG9nZ2xlQXNwZWN0UmF0aW8pIHsKICAgICAgICAgICAgICBsZXQgY2FudmFzT3JpZW50YXRpb24gPSB0aGlzLmdldE9yaWVudGF0aW9uKHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0KQogICAgICAgICAgICAgIGxldCBpbWFnZU9yaWVudGF0aW9uID0gdGhpcy5nZXRPcmllbnRhdGlvbih0aGlzLmltYWdlT2JqZWN0LndpZHRoLCB0aGlzLmltYWdlT2JqZWN0LmhlaWdodCkKICAgICAgICAgICAgICBpZiAoY2FudmFzT3JpZW50YXRpb24gIT09IGltYWdlT3JpZW50YXRpb24pIHsKICAgICAgICAgICAgICAgIHRoaXMucm90YXRlQ2FudmFzKCkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5kcmF3SW1hZ2UodGhpcy5pbWFnZU9iamVjdCkKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuaW1hZ2VPYmplY3Quc3JjID0gdGhpcy5pbWFnZQogICAgICAgIH0KICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKQogICAgICB9KQogICAgfSwKICAgIGRyYXdJbWFnZSAoaW1hZ2UpIHsKICAgICAgdGhpcy5pbWFnZVdpZHRoID0gaW1hZ2Uud2lkdGgKICAgICAgdGhpcy5pbWFnZUhlaWdodCA9IGltYWdlLmhlaWdodAogICAgICB0aGlzLmltYWdlUmF0aW8gPSBpbWFnZS53aWR0aCAvIGltYWdlLmhlaWdodAogICAgICBsZXQgb2Zmc2V0WCA9IDAKICAgICAgbGV0IG9mZnNldFkgPSAwCiAgICAgIGxldCBzY2FsZWRXaWR0aCA9IHRoaXMucHJldmlld1dpZHRoCiAgICAgIGxldCBzY2FsZWRIZWlnaHQgPSB0aGlzLnByZXZpZXdIZWlnaHQKICAgICAgY29uc3QgcHJldmlld1JhdGlvID0gdGhpcy5wcmV2aWV3V2lkdGggLyB0aGlzLnByZXZpZXdIZWlnaHQKICAgICAgaWYgKHRoaXMuY3JvcCkgewogICAgICAgIGlmICh0aGlzLmltYWdlUmF0aW8gPj0gcHJldmlld1JhdGlvKSB7CiAgICAgICAgICBzY2FsZWRXaWR0aCA9IHNjYWxlZEhlaWdodCAqIHRoaXMuaW1hZ2VSYXRpbwogICAgICAgICAgb2Zmc2V0WCA9ICh0aGlzLnByZXZpZXdXaWR0aCAtIHNjYWxlZFdpZHRoKSAvIDIKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2NhbGVkSGVpZ2h0ID0gc2NhbGVkV2lkdGggLyB0aGlzLmltYWdlUmF0aW8KICAgICAgICAgIG9mZnNldFkgPSAodGhpcy5wcmV2aWV3SGVpZ2h0IC0gc2NhbGVkSGVpZ2h0KSAvIDIKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuaW1hZ2VSYXRpbyA+PSBwcmV2aWV3UmF0aW8pIHsKICAgICAgICAgIHNjYWxlZEhlaWdodCA9IHNjYWxlZFdpZHRoIC8gdGhpcy5pbWFnZVJhdGlvCiAgICAgICAgICBvZmZzZXRZID0gKHRoaXMucHJldmlld0hlaWdodCAtIHNjYWxlZEhlaWdodCkgLyAyCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNjYWxlZFdpZHRoID0gc2NhbGVkSGVpZ2h0ICogdGhpcy5pbWFnZVJhdGlvCiAgICAgICAgICBvZmZzZXRYID0gKHRoaXMucHJldmlld1dpZHRoIC0gc2NhbGVkV2lkdGgpIC8gMgogICAgICAgIH0KICAgICAgfQogICAgICBjb25zdCBjYW52YXMgPSB0aGlzLiRyZWZzLnByZXZpZXdDYW52YXMKICAgICAgY2FudmFzLnN0eWxlLmJhY2tncm91bmQgPSAnbm9uZScKICAgICAgY2FudmFzLndpZHRoID0gdGhpcy5wcmV2aWV3V2lkdGggKiB0aGlzLnBpeGVsUmF0aW8KICAgICAgY2FudmFzLmhlaWdodCA9IHRoaXMucHJldmlld0hlaWdodCAqIHRoaXMucGl4ZWxSYXRpbwogICAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApCiAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KQogICAgICBpZiAodGhpcy5yb3RhdGUpIHsKICAgICAgICB0aGlzLmNvbnRleHQudHJhbnNsYXRlKG9mZnNldFggKiB0aGlzLnBpeGVsUmF0aW8sIG9mZnNldFkgKiB0aGlzLnBpeGVsUmF0aW8pCiAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zbGF0ZShzY2FsZWRXaWR0aCAvIDIgKiB0aGlzLnBpeGVsUmF0aW8sIHNjYWxlZEhlaWdodCAvIDIgKiB0aGlzLnBpeGVsUmF0aW8pCiAgICAgICAgdGhpcy5jb250ZXh0LnJvdGF0ZSh0aGlzLnJvdGF0ZSkKICAgICAgICBvZmZzZXRYID0gLXNjYWxlZFdpZHRoIC8gMgogICAgICAgIG9mZnNldFkgPSAtc2NhbGVkSGVpZ2h0IC8gMgogICAgICB9CiAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsCiAgICAgICAgb2Zmc2V0WCAqIHRoaXMucGl4ZWxSYXRpbywKICAgICAgICBvZmZzZXRZICogdGhpcy5waXhlbFJhdGlvLAogICAgICAgIHNjYWxlZFdpZHRoICogdGhpcy5waXhlbFJhdGlvLAogICAgICAgIHNjYWxlZEhlaWdodCAqIHRoaXMucGl4ZWxSYXRpbykKICAgIH0sCiAgICBzZWxlY3RJbWFnZSAoKSB7CiAgICAgIHRoaXMuJHJlZnMuZmlsZUlucHV0LmNsaWNrKCkKICAgIH0sCiAgICByZW1vdmVJbWFnZSAoKSB7CiAgICAgIHRoaXMuJHJlZnMuZmlsZUlucHV0LnZhbHVlID0gJycKICAgICAgdGhpcy4kcmVmcy5maWxlSW5wdXQudHlwZSA9ICcnCiAgICAgIHRoaXMuJHJlZnMuZmlsZUlucHV0LnR5cGUgPSAnZmlsZScKICAgICAgdGhpcy5maWxlTmFtZSA9ICcnCiAgICAgIHRoaXMuZmlsZVR5cGUgPSAnJwogICAgICB0aGlzLmZpbGVTaXplID0gMAogICAgICB0aGlzLmZpbGVNb2RpZmllZCA9IDAKICAgICAgdGhpcy5pbWFnZVNlbGVjdGVkID0gZmFsc2UKICAgICAgdGhpcy5pbWFnZSA9ICcnCiAgICAgIHRoaXMuZmlsZSA9IG51bGwKICAgICAgdGhpcy5pbWFnZU9iamVjdCA9IG51bGwKICAgICAgdGhpcy4kcmVmcy5wcmV2aWV3Q2FudmFzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDIwMCwyMDAsMjAwLC4yNSknCiAgICAgIHRoaXMuJHJlZnMucHJldmlld0NhbnZhcy53aWR0aCA9IHRoaXMucHJldmlld1dpZHRoICogdGhpcy5waXhlbFJhdGlvCiAgICAgIHRoaXMuJGVtaXQoJ3JlbW92ZScpCiAgICB9LAogICAgcm90YXRlSW1hZ2UgKCkgewogICAgICB0aGlzLnJvdGF0ZUNhbnZhcygpCgogICAgICBpZiAodGhpcy5pbWFnZU9iamVjdCkgewogICAgICAgIHRoaXMuZHJhd0ltYWdlKHRoaXMuaW1hZ2VPYmplY3QpCiAgICAgIH0KCiAgICAgIGxldCBuZXdPcmllbnRhdGlvbiA9IHRoaXMuZ2V0T3JpZW50YXRpb24odGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpCiAgICAgIHRoaXMuJGVtaXQoJ2FzcGVjdHJhdGlvY2hhbmdlJywgbmV3T3JpZW50YXRpb24pCiAgICB9LAogICAgcmVzaXplQ2FudmFzICgpIHsKICAgICAgbGV0IHByZXZpZXdSYXRpbyA9IHRoaXMuY2FudmFzV2lkdGggLyB0aGlzLmNhbnZhc0hlaWdodAogICAgICBsZXQgbmV3V2lkdGggPSB0aGlzLiRyZWZzLmNvbnRhaW5lci5jbGllbnRXaWR0aAogICAgICBpZiAoIXRoaXMudG9nZ2xlQXNwZWN0UmF0aW8gJiYgbmV3V2lkdGggPT09IHRoaXMuY29udGFpbmVyV2lkdGgpIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICB0aGlzLmNvbnRhaW5lcldpZHRoID0gbmV3V2lkdGgKICAgICAgdGhpcy5wcmV2aWV3V2lkdGggPSBNYXRoLm1pbih0aGlzLmNvbnRhaW5lcldpZHRoIC0gdGhpcy5tYXJnaW4gKiAyLCB0aGlzLmNhbnZhc1dpZHRoKQogICAgICB0aGlzLnByZXZpZXdIZWlnaHQgPSB0aGlzLnByZXZpZXdXaWR0aCAvIHByZXZpZXdSYXRpbwogICAgfSwKICAgIGdldE9yaWVudGF0aW9uICh3aWR0aCwgaGVpZ2h0KSB7CiAgICAgIGxldCBvcmllbnRhdGlvbiA9ICdzcXVhcmUnCgogICAgICBpZiAod2lkdGggPiBoZWlnaHQpIHsKICAgICAgICBvcmllbnRhdGlvbiA9ICdsYW5kc2NhcGUnCiAgICAgIH0gZWxzZSBpZiAod2lkdGggPCBoZWlnaHQpIHsKICAgICAgICBvcmllbnRhdGlvbiA9ICdwb3J0cmFpdCcKICAgICAgfQoKICAgICAgcmV0dXJuIG9yaWVudGF0aW9uCiAgICB9LAogICAgc3dpdGNoQ2FudmFzT3JpZW50YXRpb24gKCkgewogICAgICBjb25zdCBjYW52YXNXaWR0aCA9IHRoaXMuY2FudmFzV2lkdGgKICAgICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gdGhpcy5jYW52YXNIZWlnaHQKCiAgICAgIHRoaXMuY2FudmFzV2lkdGggPSBjYW52YXNIZWlnaHQKICAgICAgdGhpcy5jYW52YXNIZWlnaHQgPSBjYW52YXNXaWR0aAogICAgfSwKICAgIHJvdGF0ZUNhbnZhcyAoKSB7CiAgICAgIHRoaXMuc3dpdGNoQ2FudmFzT3JpZW50YXRpb24oKQogICAgICB0aGlzLnJlc2l6ZUNhbnZhcygpCiAgICB9LAogICAgc2V0T3JpZW50YXRpb24gKG9yaWVudGF0aW9uKSB7CiAgICAgIHRoaXMucm90YXRlID0gZmFsc2UKICAgICAgaWYgKG9yaWVudGF0aW9uID09PSA4KSB7CiAgICAgICAgdGhpcy5yb3RhdGUgPSAtTWF0aC5QSSAvIDIKICAgICAgfSBlbHNlIGlmIChvcmllbnRhdGlvbiA9PT0gNikgewogICAgICAgIHRoaXMucm90YXRlID0gTWF0aC5QSSAvIDIKICAgICAgfSBlbHNlIGlmIChvcmllbnRhdGlvbiA9PT0gMykgewogICAgICAgIHRoaXMucm90YXRlID0gLU1hdGguUEkKICAgICAgfQogICAgfSwKICAgIGdldEVYSUZPcmllbnRhdGlvbiAoZmlsZSwgY2FsbGJhY2spIHsKICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCkKICAgICAgcmVhZGVyLm9ubG9hZCA9IGUgPT4gewogICAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KGUudGFyZ2V0LnJlc3VsdCkKICAgICAgICBpZiAodmlldy5nZXRVaW50MTYoMCwgZmFsc2UpICE9PSAweEZGRDgpIHsKICAgICAgICAgIHJldHVybiBjYWxsYmFjaygtMikKICAgICAgICB9CiAgICAgICAgdmFyIGxlbmd0aCA9IHZpZXcuYnl0ZUxlbmd0aAogICAgICAgIHZhciBvZmZzZXQgPSAyCiAgICAgICAgd2hpbGUgKG9mZnNldCA8IGxlbmd0aCkgewogICAgICAgICAgdmFyIG1hcmtlciA9IHZpZXcuZ2V0VWludDE2KG9mZnNldCwgZmFsc2UpCiAgICAgICAgICBvZmZzZXQgKz0gMgogICAgICAgICAgaWYgKG1hcmtlciA9PT0gMHhGRkUxKSB7CiAgICAgICAgICAgIGlmICh2aWV3LmdldFVpbnQzMihvZmZzZXQgKz0gMiwgZmFsc2UpICE9PSAweDQ1Nzg2OTY2KSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKC0xKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBsaXR0bGUgPSB2aWV3LmdldFVpbnQxNihvZmZzZXQgKz0gNiwgZmFsc2UpID09PSAweDQ5NDkKICAgICAgICAgICAgb2Zmc2V0ICs9IHZpZXcuZ2V0VWludDMyKG9mZnNldCArIDQsIGxpdHRsZSkKICAgICAgICAgICAgdmFyIHRhZ3MgPSB2aWV3LmdldFVpbnQxNihvZmZzZXQsIGxpdHRsZSkKICAgICAgICAgICAgb2Zmc2V0ICs9IDIKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWdzOyBpKyspIHsKICAgICAgICAgICAgICBpZiAodmlldy5nZXRVaW50MTYob2Zmc2V0ICsgKGkgKiAxMiksIGxpdHRsZSkgPT09IDB4MDExMikgewogICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHZpZXcuZ2V0VWludDE2KG9mZnNldCArIChpICogMTIpICsgOCwgbGl0dGxlKSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoKG1hcmtlciAmIDB4RkYwMCkgIT09IDB4RkYwMCkgewogICAgICAgICAgICBicmVhawogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb2Zmc2V0ICs9IHZpZXcuZ2V0VWludDE2KG9mZnNldCwgZmFsc2UpCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBjYWxsYmFjaygtMSkKICAgICAgfQogICAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZS5zbGljZSgwLCA2NTUzNikpCiAgICB9LAogICAgcHJlbG9hZEltYWdlIChzb3VyY2UsIG9wdGlvbnMpIHsKICAgICAgLy8gaWUgMTEgc3VwcG9ydAogICAgICBsZXQgRmlsZSA9IHdpbmRvdy5GaWxlCiAgICAgIHRyeSB7CiAgICAgICAgbmV3IEZpbGUoW10sICcnKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBGaWxlID0gY2xhc3MgRmlsZSBleHRlbmRzIEJsb2IgewogICAgICAgICAgY29uc3RydWN0b3IgKGNodW5rcywgZmlsZW5hbWUsIG9wdHMgPSB7fSkgewogICAgICAgICAgICBzdXBlcihjaHVua3MsIG9wdHMpCiAgICAgICAgICAgIHRoaXMubGFzdE1vZGlmaWVkRGF0ZSA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgdGhpcy5sYXN0TW9kaWZpZWQgPSArdGhpcy5sYXN0TW9kaWZpZWREYXRlCiAgICAgICAgICAgIHRoaXMubmFtZSA9IGZpbGVuYW1lCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKQogICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ29iamVjdCcpIHsKICAgICAgICB0aGlzLmltYWdlU2VsZWN0ZWQgPSB0cnVlCiAgICAgICAgdGhpcy5pbWFnZSA9ICcnCiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQcmV2aWV3KSB7CiAgICAgICAgICB0aGlzLmxvYWRJbWFnZShzb3VyY2UsIHRydWUpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3ByZWZpbGwnKQogICAgICAgIH0KICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCkKICAgICAgaGVhZGVycy5hcHBlbmQoJ0FjY2VwdCcsICdpbWFnZS8qJykKICAgICAgZmV0Y2goc291cmNlLCB7CiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICBtb2RlOiAnY29ycycsCiAgICAgICAgaGVhZGVyczogaGVhZGVycwogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpCiAgICAgIH0pCiAgICAgIC50aGVuKGltYWdlQmxvYiA9PiB7CiAgICAgICAgbGV0IGUgPSB7IHRhcmdldDogeyBmaWxlczogW10gfSB9CiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBvcHRpb25zLmZpbGVOYW1lIHx8IHNvdXJjZS5zcGxpdCgnLycpLnNsaWNlKC0xKVswXQogICAgICAgIGxldCBtZWRpYVR5cGUgPSBvcHRpb25zLm1lZGlhVHlwZSB8fCAoJ2ltYWdlLycgKyAob3B0aW9ucy5maWxlVHlwZSB8fCBmaWxlTmFtZS5zcGxpdCgnLicpLnNsaWNlKC0xKVswXSkpCiAgICAgICAgbWVkaWFUeXBlID0gbWVkaWFUeXBlLnJlcGxhY2UoJ2pwZycsICdqcGVnJykKICAgICAgICBlLnRhcmdldC5maWxlc1swXSA9IG5ldyBGaWxlKFtpbWFnZUJsb2JdLCBmaWxlTmFtZSwgeyB0eXBlOiBtZWRpYVR5cGUgfSkKICAgICAgICB0aGlzLm9uRmlsZUNoYW5nZShlLCB0cnVlKQogICAgICB9KQogICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICB0aGlzLiRlbWl0KCdlcnJvcicsIHsKICAgICAgICAgIHR5cGU6ICdmYWlsZWRQcmVmaWxsJywKICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgbG9hZGluZyBwcmVmaWxsIGltYWdlOiAnICsgZXJyCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzdXBwb3J0c1VwbG9hZCAoKSB7CiAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oQW5kcm9pZCAoMS4wfDEuMXwxLjV8MS42fDIuMHwyLjEpKXwoV2luZG93cyBQaG9uZSAoT1MgN3w4LjApKXwoWEJMV1ApfChadW5lV1ApfCh3KGViKT9PU0Jyb3dzZXIpfCh3ZWJPUyl8KEtpbmRsZVwvKDEuMHwyLjB8Mi41fDMuMCkpLykpIHsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JykKICAgICAgZWwudHlwZSA9ICdmaWxlJwogICAgICByZXR1cm4gIWVsLmRpc2FibGVkCiAgICB9LAogICAgc3VwcG9ydHNQcmV2aWV3ICgpIHsKICAgICAgcmV0dXJuIHdpbmRvdy5GaWxlUmVhZGVyICYmICEhd2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRAogICAgfSwKICAgIHN1cHBvcnRzRHJhZ0FuZERyb3AgKCkgewogICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKQogICAgICByZXR1cm4gKCgnZHJhZ2dhYmxlJyBpbiBkaXYpIHx8ICgnb25kcmFnc3RhcnQnIGluIGRpdiAmJiAnb25kcm9wJyBpbiBkaXYpKSAmJiAhKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCBuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cykKICAgIH0sCiAgICBjb21wdXRlZENsYXNzZXMgKCkgewogICAgICBjb25zdCBjbGFzc09iamVjdCA9IHt9CiAgICAgIGNsYXNzT2JqZWN0WydkcmFnZ2luZy1vdmVyJ10gPSB0aGlzLmRyYWdnaW5nT3ZlcgogICAgICByZXR1cm4gY2xhc3NPYmplY3QKICAgIH0sCiAgICBmb250U2l6ZSAoKSB7CiAgICAgIHJldHVybiBNYXRoLm1pbigwLjA0ICogdGhpcy5wcmV2aWV3V2lkdGgsIDIxKSArICdweCcKICAgIH0KICB9Cn0K"},{"version":3,"sources":["PictureInput.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PictureInput.vue","sourceRoot":"node_modules/vue-picture-input","sourcesContent":["<template>\n  <div ref=\"container\" id=\"picture-input\" class=\"picture-input\">\n    <div v-if=\"!supportsUpload\" v-html=\"strings.upload\"></div>\n    <div v-else-if=\"supportsPreview\">\n      <div class=\"preview-container\"\n        :style=\"{maxWidth: previewWidth + 'px', height: previewHeight + 'px', borderRadius: radius + '%'}\">\n          <canvas ref=\"previewCanvas\"\n            class=\"picture-preview\"\n            :class=\"computedClasses\"\n            @drag.stop.prevent=\"\"\n            @dragover.stop.prevent=\"\"\n            @dragstart.stop.prevent=\"onDragStart\"\n            @dragenter.stop.prevent=\"onDragStart\"\n            @dragend.stop.prevent=\"onDragStop\"\n            @dragleave.stop.prevent=\"onDragStop\"\n            @drop.stop.prevent=\"onFileDrop\"\n            @click.prevent=\"onClick\"\n            :style=\"{height: previewHeight + 'px', zIndex: zIndex + 1 }\">\n          </canvas>\n        <div v-if=\"!imageSelected && !plain\"\n          class=\"picture-inner\"\n            :style=\"{top: -previewHeight + 'px', marginBottom: -previewHeight + 'px', fontSize: fontSize, borderRadius: radius + '%', zIndex: zIndex + 2}\">\n          <span v-if=\"supportsDragAndDrop\" class=\"picture-inner-text\" v-html=\"strings.drag\"></span>\n          <span v-else class=\"picture-inner-text\" v-html=\"strings.tap\"></span>\n        </div>\n      </div>\n      <button v-if=\"imageSelected && !hideChangeButton\" @click.prevent=\"selectImage\" :class=\"buttonClass\">{{ strings.change }}</button>\n      <button v-if=\"imageSelected && removable\" @click.prevent=\"removeImage\" :class=\"removeButtonClass\">{{ strings.remove }}</button>\n      <button v-if=\"imageSelected && toggleAspectRatio && width !== height\" @click.prevent=\"rotateImage\" :class=\"aspectButtonClass\">{{ strings.aspect }}</button>\n    </div>\n    <div v-else>\n      <button v-if=\"!imageSelected\" @click.prevent=\"selectImage\" :class=\"buttonClass\">{{ strings.select }}</button>\n      <div v-else>\n        <div v-html=\"strings.selected\"></div>\n        <button v-if=\"!hideChangeButton\" @click.prevent=\"selectImage\" :class=\"buttonClass\">{{ strings.change }}</button>\n        <button v-if=\"removable\" @click.prevent=\"removeImage\" :class=\"removeButtonClass\">{{ strings.remove }}</button>\n      </div>\n    </div>\n    <input ref=\"fileInput\" type=\"file\" :name=\"name\" :id=\"id\" :accept=\"accept\" @change=\"onFileChange\">\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'picture-input',\n  props: {\n    width: {\n      type: [String, Number],\n      default: Number.MAX_SAFE_INTEGER\n    },\n    height: {\n      type: [String, Number],\n      default: Number.MAX_SAFE_INTEGER\n    },\n    margin: {\n      type: [String, Number],\n      default: 0\n    },\n    accept: {\n      type: String,\n      default: 'image/*'\n    },\n    size: {\n      type: [String, Number],\n      default: Number.MAX_SAFE_INTEGER\n    },\n    name: {\n      type: String,\n      default: null\n    },\n    id: {\n      type: [String, Number],\n      default: null\n    },\n    buttonClass: {\n      type: String,\n      default: 'btn btn-primary button'\n    },\n    removeButtonClass: {\n      type: String,\n      default: 'btn btn-secondary button secondary'\n    },\n    aspectButtonClass: {\n      type: String,\n      default: 'btn btn-secondary button secondary'\n    },\n    prefill: {\n      type: [String, File],\n      default: ''\n    },\n    prefillOptions: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    },\n    crop: {\n      type: Boolean,\n      default: true\n    },\n    radius: {\n      type: [String, Number],\n      default: 0\n    },\n    removable: {\n      type: Boolean,\n      default: false\n    },\n    hideChangeButton: {\n      type: Boolean,\n      default: false\n    },\n    autoToggleAspectRatio: {\n      type: Boolean,\n      default: false\n    },\n    toggleAspectRatio: {\n      type: Boolean,\n      default: false\n    },\n    changeOnClick: {\n      type: Boolean,\n      default: true\n    },\n    plain: {\n      type: Boolean,\n      default: false\n    },\n    zIndex: {\n      type: Number,\n      default: 10000\n    },\n    alertOnError: {\n      type: Boolean,\n      default: true\n    },\n    customStrings: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    }\n  },\n  watch: {\n    prefill () {\n      if (this.prefill) {\n        this.preloadImage(this.prefill, this.prefillOptions)\n      } else {\n        this.removeImage()\n      }\n    }\n  },\n  data () {\n    return {\n      imageSelected: false,\n      previewHeight: 0,\n      previewWidth: 0,\n      draggingOver: false,\n      canvasWidth: 0,\n      canvasHeight: 0,\n      strings: {\n        upload: '<p>Your device does not support file uploading.</p>',\n        drag: 'Drag an image or <br>click here to select a file',\n        tap: 'Tap here to select a photo <br>from your gallery',\n        change: 'Change Photo',\n        aspect: 'Landscape/Portrait',\n        remove: 'Remove Photo',\n        select: 'Select a Photo',\n        selected: '<p>Photo successfully selected!</p>',\n        fileSize: 'The file size exceeds the limit',\n        fileType: 'This file type is not supported.'\n      }\n    }\n  },\n  mounted () {\n    this.updateStrings()\n    if (this.prefill) {\n      this.preloadImage(this.prefill, this.prefillOptions)\n    }\n\n    this.$nextTick(() => {\n      window.addEventListener('resize', this.onResize)\n      this.onResize()\n    })\n    if (this.supportsPreview) {\n      this.pixelRatio = Math.round(window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI)\n      const canvas = this.$refs.previewCanvas\n      if (canvas.getContext) {\n        this.context = canvas.getContext('2d')\n        this.context.scale(this.pixelRatio, this.pixelRatio)\n      }\n    }\n    if (this.accept !== 'image/*') {\n      this.fileTypes = this.accept.split(',')\n      this.fileTypes = this.fileTypes.map(s => s.trim())\n    }\n\n    this.canvasWidth = this.width\n    this.canvasHeight = this.height\n\n    this.$on('error', this.onError)\n  },\n  beforeDestroy () {\n    window.removeEventListener('resize', this.onResize)\n    this.$off('error', this.onError)\n  },\n  methods: {\n    updateStrings () {\n      for (let s in this.customStrings) {\n        if (s in this.strings && typeof this.customStrings[s] === 'string') {\n          this.strings[s] = this.customStrings[s]\n        }\n      }\n    },\n    onClick () {\n      if (!this.imageSelected) {\n        this.selectImage()\n        return\n      }\n\n      if (this.changeOnClick) {\n        this.selectImage()\n      }\n\n      this.$emit('click')\n    },\n    onResize () {\n      this.resizeCanvas()\n\n      if (this.imageObject) {\n        this.drawImage(this.imageObject)\n      }\n    },\n    onDragStart () {\n      if (!this.supportsDragAndDrop) {\n        return\n      }\n      this.draggingOver = true\n    },\n    onDragStop () {\n      if (!this.supportsDragAndDrop) {\n        return\n      }\n      this.draggingOver = false\n    },\n    onFileDrop (e) {\n      this.onDragStop()\n      this.onFileChange(e)\n    },\n    onFileChange (e, prefill) {\n      let files = e.target.files || e.dataTransfer.files\n      if (!files.length) {\n        return\n      }\n      if (files[0].size <= 0 || files[0].size > this.size * 1024 * 1024) {\n        this.$emit('error', {\n          type: 'fileSize',\n          fileSize: files[0].size,\n          fileType: files[0].type,\n          fileName: files[0].name,\n          message: this.strings.fileSize + ' (' + this.size + 'MB)'\n        })\n        return\n      }\n      if (files[0].name === this.fileName && files[0].size === this.fileSize && this.fileModified === files[0].lastModified) {\n        return\n      }\n\n      this.file = files[0]\n      this.fileName = files[0].name\n      this.fileSize = files[0].size\n      this.fileModified = files[0].lastModified\n      this.fileType = files[0].type\n\n      if (this.accept === 'image/*') {\n        if (files[0].type.substr(0, 6) !== 'image/') {\n          return\n        }\n      } else {\n        if (this.fileTypes.indexOf(files[0].type) === -1) {\n          this.$emit('error', {\n            type: 'fileType',\n            fileSize: files[0].size,\n            fileType: files[0].type,\n            fileName: files[0].name,\n            message: this.strings.fileType\n          })\n          return\n        }\n      }\n      this.imageSelected = true\n      this.image = ''\n      if (this.supportsPreview) {\n        this.loadImage(files[0], prefill || false)\n      } else {\n        if (prefill) {\n          this.$emit('prefill')\n        } else {\n          this.$emit('change', this.image)\n        }\n      }\n    },\n    onError (error) {\n      if (this.alertOnError) {\n        alert(error.message)\n      }\n    },\n    loadImage (file, prefill) {\n      this.getEXIFOrientation(file, orientation => {\n        this.setOrientation(orientation)\n        let reader = new FileReader()\n        reader.onload = e => {\n          this.image = e.target.result\n          if (prefill) {\n            this.$emit('prefill')\n          } else {\n            this.$emit('change', this.image)\n          }\n          this.imageObject = new Image()\n          this.imageObject.onload = () => {\n            if (this.autoToggleAspectRatio) {\n              let canvasOrientation = this.getOrientation(this.canvasWidth, this.canvasHeight)\n              let imageOrientation = this.getOrientation(this.imageObject.width, this.imageObject.height)\n              if (canvasOrientation !== imageOrientation) {\n                this.rotateCanvas()\n              }\n            }\n            this.drawImage(this.imageObject)\n          }\n          this.imageObject.src = this.image\n        }\n        reader.readAsDataURL(file)\n      })\n    },\n    drawImage (image) {\n      this.imageWidth = image.width\n      this.imageHeight = image.height\n      this.imageRatio = image.width / image.height\n      let offsetX = 0\n      let offsetY = 0\n      let scaledWidth = this.previewWidth\n      let scaledHeight = this.previewHeight\n      const previewRatio = this.previewWidth / this.previewHeight\n      if (this.crop) {\n        if (this.imageRatio >= previewRatio) {\n          scaledWidth = scaledHeight * this.imageRatio\n          offsetX = (this.previewWidth - scaledWidth) / 2\n        } else {\n          scaledHeight = scaledWidth / this.imageRatio\n          offsetY = (this.previewHeight - scaledHeight) / 2\n        }\n      } else {\n        if (this.imageRatio >= previewRatio) {\n          scaledHeight = scaledWidth / this.imageRatio\n          offsetY = (this.previewHeight - scaledHeight) / 2\n        } else {\n          scaledWidth = scaledHeight * this.imageRatio\n          offsetX = (this.previewWidth - scaledWidth) / 2\n        }\n      }\n      const canvas = this.$refs.previewCanvas\n      canvas.style.background = 'none'\n      canvas.width = this.previewWidth * this.pixelRatio\n      canvas.height = this.previewHeight * this.pixelRatio\n      this.context.setTransform(1, 0, 0, 1, 0, 0)\n      this.context.clearRect(0, 0, canvas.width, canvas.height)\n      if (this.rotate) {\n        this.context.translate(offsetX * this.pixelRatio, offsetY * this.pixelRatio)\n        this.context.translate(scaledWidth / 2 * this.pixelRatio, scaledHeight / 2 * this.pixelRatio)\n        this.context.rotate(this.rotate)\n        offsetX = -scaledWidth / 2\n        offsetY = -scaledHeight / 2\n      }\n      this.context.drawImage(image,\n        offsetX * this.pixelRatio,\n        offsetY * this.pixelRatio,\n        scaledWidth * this.pixelRatio,\n        scaledHeight * this.pixelRatio)\n    },\n    selectImage () {\n      this.$refs.fileInput.click()\n    },\n    removeImage () {\n      this.$refs.fileInput.value = ''\n      this.$refs.fileInput.type = ''\n      this.$refs.fileInput.type = 'file'\n      this.fileName = ''\n      this.fileType = ''\n      this.fileSize = 0\n      this.fileModified = 0\n      this.imageSelected = false\n      this.image = ''\n      this.file = null\n      this.imageObject = null\n      this.$refs.previewCanvas.style.backgroundColor = 'rgba(200,200,200,.25)'\n      this.$refs.previewCanvas.width = this.previewWidth * this.pixelRatio\n      this.$emit('remove')\n    },\n    rotateImage () {\n      this.rotateCanvas()\n\n      if (this.imageObject) {\n        this.drawImage(this.imageObject)\n      }\n\n      let newOrientation = this.getOrientation(this.canvasWidth, this.canvasHeight)\n      this.$emit('aspectratiochange', newOrientation)\n    },\n    resizeCanvas () {\n      let previewRatio = this.canvasWidth / this.canvasHeight\n      let newWidth = this.$refs.container.clientWidth\n      if (!this.toggleAspectRatio && newWidth === this.containerWidth) {\n        return\n      }\n      this.containerWidth = newWidth\n      this.previewWidth = Math.min(this.containerWidth - this.margin * 2, this.canvasWidth)\n      this.previewHeight = this.previewWidth / previewRatio\n    },\n    getOrientation (width, height) {\n      let orientation = 'square'\n\n      if (width > height) {\n        orientation = 'landscape'\n      } else if (width < height) {\n        orientation = 'portrait'\n      }\n\n      return orientation\n    },\n    switchCanvasOrientation () {\n      const canvasWidth = this.canvasWidth\n      const canvasHeight = this.canvasHeight\n\n      this.canvasWidth = canvasHeight\n      this.canvasHeight = canvasWidth\n    },\n    rotateCanvas () {\n      this.switchCanvasOrientation()\n      this.resizeCanvas()\n    },\n    setOrientation (orientation) {\n      this.rotate = false\n      if (orientation === 8) {\n        this.rotate = -Math.PI / 2\n      } else if (orientation === 6) {\n        this.rotate = Math.PI / 2\n      } else if (orientation === 3) {\n        this.rotate = -Math.PI\n      }\n    },\n    getEXIFOrientation (file, callback) {\n      var reader = new FileReader()\n      reader.onload = e => {\n        var view = new DataView(e.target.result)\n        if (view.getUint16(0, false) !== 0xFFD8) {\n          return callback(-2)\n        }\n        var length = view.byteLength\n        var offset = 2\n        while (offset < length) {\n          var marker = view.getUint16(offset, false)\n          offset += 2\n          if (marker === 0xFFE1) {\n            if (view.getUint32(offset += 2, false) !== 0x45786966) {\n              return callback(-1)\n            }\n            var little = view.getUint16(offset += 6, false) === 0x4949\n            offset += view.getUint32(offset + 4, little)\n            var tags = view.getUint16(offset, little)\n            offset += 2\n            for (var i = 0; i < tags; i++) {\n              if (view.getUint16(offset + (i * 12), little) === 0x0112) {\n                return callback(view.getUint16(offset + (i * 12) + 8, little))\n              }\n            }\n          } else if ((marker & 0xFF00) !== 0xFF00) {\n            break\n          } else {\n            offset += view.getUint16(offset, false)\n          }\n        }\n        return callback(-1)\n      }\n      reader.readAsArrayBuffer(file.slice(0, 65536))\n    },\n    preloadImage (source, options) {\n      // ie 11 support\n      let File = window.File\n      try {\n        new File([], '') // eslint-disable-line\n      } catch (e) {\n        File = class File extends Blob {\n          constructor (chunks, filename, opts = {}) {\n            super(chunks, opts)\n            this.lastModifiedDate = new Date()\n            this.lastModified = +this.lastModifiedDate\n            this.name = filename\n          }\n        }\n      }\n      options = Object.assign({}, options)\n      if (typeof source === 'object') {\n        this.imageSelected = true\n        this.image = ''\n        if (this.supportsPreview) {\n          this.loadImage(source, true)\n        } else {\n          this.$emit('prefill')\n        }\n        return\n      }\n      let headers = new Headers()\n      headers.append('Accept', 'image/*')\n      fetch(source, {\n        method: 'GET',\n        mode: 'cors',\n        headers: headers\n      }).then(response => {\n        return response.blob()\n      })\n      .then(imageBlob => {\n        let e = { target: { files: [] } }\n        const fileName = options.fileName || source.split('/').slice(-1)[0]\n        let mediaType = options.mediaType || ('image/' + (options.fileType || fileName.split('.').slice(-1)[0]))\n        mediaType = mediaType.replace('jpg', 'jpeg')\n        e.target.files[0] = new File([imageBlob], fileName, { type: mediaType })\n        this.onFileChange(e, true)\n      })\n      .catch(err => {\n        this.$emit('error', {\n          type: 'failedPrefill',\n          message: 'Failed loading prefill image: ' + err\n        })\n      })\n    }\n  },\n  computed: {\n    supportsUpload () {\n      if (navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\\/(1.0|2.0|2.5|3.0))/)) {\n        return false\n      }\n      const el = document.createElement('input')\n      el.type = 'file'\n      return !el.disabled\n    },\n    supportsPreview () {\n      return window.FileReader && !!window.CanvasRenderingContext2D\n    },\n    supportsDragAndDrop () {\n      const div = document.createElement('div')\n      return (('draggable' in div) || ('ondragstart' in div && 'ondrop' in div)) && !('ontouchstart' in window || navigator.msMaxTouchPoints)\n    },\n    computedClasses () {\n      const classObject = {}\n      classObject['dragging-over'] = this.draggingOver\n      return classObject\n    },\n    fontSize () {\n      return Math.min(0.04 * this.previewWidth, 21) + 'px'\n    }\n  }\n}\n</script>\n\n<style scoped>\n.picture-input {\n  width: 100%;\n  margin: 0 auto;\n  text-align: center;\n}\n.preview-container {\n  width: 100%;\n  box-sizing: border-box;\n  margin: 0 auto;\n  cursor: pointer;\n  overflow: hidden;\n}\n.picture-preview {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 10001;\n  box-sizing: border-box;\n  background-color: rgba(200,200,200,.25);\n}\n.picture-preview.dragging-over {\n  filter: brightness(0.5);\n}\n.picture-inner {\n  position: relative;\n  z-index: 10002;\n  pointer-events: none;\n  box-sizing: border-box;\n  margin: 1em auto;\n  padding: 0.5em;\n  border: .3em dashed rgba(66,66,66,.15);\n  border-radius: 8px;\n  width: calc(100% - 2.5em);\n  height: calc(100% - 2.5em);\n  display: table;\n}\n.picture-inner .picture-inner-text {\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center;\n  font-size: 2em;\n  line-height: 1.5;\n}\nbutton {\n  margin: 1em .25em;\n  cursor: pointer;\n}\ninput[type=file] {\n  display: none;\n}\n</style>\n"]}]}